@if (metrics(); as m) {
<div class="space-y-4">
  <div class="text-center">
      <p class="text-lg text-gray-300">Total Sleep Duration</p>
      <p class="text-3xl font-bold text-indigo-400">{{ m.totalDurationHours }}h {{ m.totalDurationMinutes }}m</p>
  </div>

  <div class="w-full bg-gray-700 rounded-full h-8 relative overflow-hidden">
    <!-- Main sleep bar -->
    <div 
      class="bg-gradient-to-r from-indigo-500 to-purple-500 h-8 absolute rounded-full"
      [style.left.%]="m.sleepStartPercent"
      [style.width.%]="m.sleepDurationPercent">
      
      <!-- Disturbances markers -->
      @for (pos of m.disturbancePositions; track $index) {
        <div 
          class="absolute top-0 h-full w-1 bg-red-400/70"
          [style.left.%]="pos">
        </div>
      }
    </div>
  </div>

  <!-- Timeline labels -->
  <div class="flex justify-between text-xs text-gray-400 px-1">
    <span>6 PM</span>
    <span>12 AM</span>
    <span>6 AM</span>
    <span>12 PM</span>
    <span>6 PM</span>
  </div>
</div>
}
